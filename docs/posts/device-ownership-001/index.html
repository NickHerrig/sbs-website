<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Andrew Dailey">
    <meta name="description" content="Simple software that babbles loudly">
    <meta name="keywords" content="blog,developer,personal">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Device Ownership 001: Longan Nano - Getting Started"/>
<meta name="twitter:description" content="Introduction The Sipeed Longan Nano is a small, affordable, 32-bit RISC-V chip. Despite its minimalism, the Longan Nano provides enough power and peripherals to learn RISC-V assembly and build exciting programs along the way.
The Longan Nano comes with the following components:
 108 MHz GigaDevice GD32VF103[CBT6] 32-bit CPU 128 KB flash storage 32 KB sram memory 3 LEDs (red, green, and blue) 1 USB Type-C port 1 microSD card slot 160x80 pixel LCD (0."/>

    <meta property="og:title" content="Device Ownership 001: Longan Nano - Getting Started" />
<meta property="og:description" content="Introduction The Sipeed Longan Nano is a small, affordable, 32-bit RISC-V chip. Despite its minimalism, the Longan Nano provides enough power and peripherals to learn RISC-V assembly and build exciting programs along the way.
The Longan Nano comes with the following components:
 108 MHz GigaDevice GD32VF103[CBT6] 32-bit CPU 128 KB flash storage 32 KB sram memory 3 LEDs (red, green, and blue) 1 USB Type-C port 1 microSD card slot 160x80 pixel LCD (0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://shallowbrooksoftware.com/posts/device-ownership-001/" />
<meta property="article:published_time" content="2020-02-22T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-02-22T00:00:00+00:00" />


    
      <base href="https://shallowbrooksoftware.com/posts/device-ownership-001/">
    
    <title>
  Device Ownership 001: Longan Nano - Getting Started · Shallow Brook Software
</title>

    
      <link rel="canonical" href="https://shallowbrooksoftware.com/posts/device-ownership-001/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="/css/coder.min.a4f332213a21ce8eb521670c614470c58923aaaf385e2a73982c31dd7642decb.css" integrity="sha256-pPMyITohzo61IWcMYURwxYkjqq84XipzmCwx3XZC3ss=" crossorigin="anonymous" media="screen" />
    

    

    

    

    

    

    <link rel="icon" type="image/png" href="https://shallowbrooksoftware.com/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://shallowbrooksoftware.com/images/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.59.1" />
  </head>

  
  
  <body class="colorscheme-light">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      Shallow Brook Software
    </a>
    
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://shallowbrooksoftware.com/about/">About</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://shallowbrooksoftware.com/posts/">Blog</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://shallowbrooksoftware.com/projects/">Projects</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://shallowbrooksoftware.com/contact/">Contact</a>
          </li>
        
      
      
    </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">Device Ownership 001: Longan Nano - Getting Started</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2020-02-22T00:00:00Z'>
                February 22, 2020
              </time>
            </span>
          </div>
          
          <div class="tags">
  <i class="fas fa-tag"></i>
    <a href="/tags/risc-v/">risc-v</a>
      <span class="separator">•</span>
    <a href="/tags/firmware/">firmware</a>
      <span class="separator">•</span>
    <a href="/tags/device-ownership/">device ownership</a>
      <span class="separator">•</span>
    <a href="/tags/longan-nano/">longan nano</a></div>

        </div>
      </header>

      <div>
        
        

<h1 id="introduction">Introduction</h1>

<p>The <a href="https://www.seeedstudio.com/Sipeed-Longan-Nano-RISC-V-GD32VF103CBT6-Development-Board-p-4205.html">Sipeed Longan Nano</a> is a small, affordable, 32-bit <a href="https://en.wikipedia.org/wiki/RISC-V">RISC-V</a> chip.
Despite its minimalism, the Longan Nano provides enough power and peripherals to learn RISC-V assembly and build exciting programs along the way.</p>

<p>The Longan Nano comes with the following components:</p>

<ul>
<li>108 MHz GigaDevice GD32VF103[CBT6] 32-bit CPU</li>
<li>128 KB flash storage</li>
<li>32 KB sram memory</li>
<li>3 LEDs (red, green, and blue)</li>
<li>1 USB Type-C port</li>
<li>1 microSD card slot</li>
<li>160x80 pixel LCD (0.96 inches)</li>
<li>2 Buttons (RESET and BOOT)</li>
</ul>

<p>With the specs out of the way, we can begin the journey of figuring out how to go from a blank text file to controlling all aspects of our hardware.
Get ready to discuss registers, design clean programs, and dive into some datasheets.</p>

<p><strong>The rest of the Longan Nano series requires that the device be connected to your host system via a USB-C cable! Go ahead get things wired up!</strong></p>

<h1 id="the-world-s-smallest-risc-v-program">The world&rsquo;s smallest RISC-V program</h1>

<p>Seen below is a valid RISC-V program that does absolutely nothing!</p>

<pre><code>addi zero, zero, 0
</code></pre>

<p>This particular combination of words and numbers tells the computer to add 0 to a special register named <code>zero</code>.
More specifically, <code>addi</code> (shorthand for &ldquo;add immediate&rdquo;) is an instruction that tells the CPU to add the literal number 0 to the value currently stored in register <code>zero</code> and then store the resulting sum back into register <code>zero</code>.</p>

<p>What is a register, though?</p>

<p>One analogy for explaining the relationship between a CPU and its registers is to consider a librarian.
The librarian&rsquo;s job is to organize and repair books.
Within arm&rsquo;s reach of their desk, the librarian has a small book shelf capable of holding only 32 books.
If the librarian needs to work on a book that is already in their shelf, then they can instantly pick it up and get to work.
If the book is <em>not</em> on their shelf, however, then they need to stop working, walk deeper into the library, grab the book, and bring it back.
In order to make room for this new book, an old book must be taken back and stored somewhere in the library.</p>

<p>When it comes to computers, we deal with numbers instead of books.
All RISC-V CPUs come with 32 general-purpose registers for holding temporary values to be used by the program.
In the case of the Longan Nano, these registers are 32 bits long meaning that they can store any integer value from -2,147,483,648 up to 2,147,483,647.</p>

<p>All 32 of RISC-V&rsquo;s registers behave the same except for one: the <code>zero</code> register.
This register is special because it always holds the integer value 0.
If any other value attempts to get placed there, it effectively disappears.
This register is useful for discarding unwanted values and for when 0 is used in computation.</p>

<p>Knowing what we now know, we can look at our simple program in a bit more detail.</p>

<pre><code>addi zero, zero, 0
</code></pre>

<p>The <code>addi</code> instruction takes three parameters: the destination register, the source register, and an immediate integer value.
These parameters are arranged as follows:</p>

<pre><code>addi rd, rs1, imm
</code></pre>

<p>To recap, our simple program is adding the value currently stored in the <code>zero</code> register (which is always 0) to the value immediate integer value 0.
This sum (0 + 0 = 0) is then stored back into register <code>zero</code>.
Even though the program appears to write 0 to the <code>zero</code> register, it doesn&rsquo;t affect it at all.
As we learned with the special <code>zero</code> register, all values placed in it disappear.
Even if the result of the sum had been non-zero, the instruction would not have changed the <code>zero</code> register.</p>

<p>Now that our simple program is written and understood, how do we convert it to something that CPUs understand?
We will explore the answer in the next part of the series!</p>

      </div>


      <footer>
        


        
        
        
      </footer>
    </article>

    
  </section>

      </div>

      <footer class="footer">
  <section class="container">
    
      <p>simple software that babbles loudly</p>
    
    
      
        © 2020
      
       Andrew Dailey 
    
    
       · 
       <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
    
  </section>
</footer>

    </main>

    

    

  </body>

</html>
